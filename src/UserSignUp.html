<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Sign Up - Ferrell And Sons: Wagons And Wheels</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        body {
            background-color: white;
        }
        .error-message {
            color: red;
            /* 1em is equal to 16 px, so I played around with the size to make it more bearable
             https://www.w3.org/Style/Examples/007/units.en.html */
            font-size: 0.8em;
            display: none;
            position: absolute;
        }
        .form-field {
            position: relative;
        }
    </style>

    <script>
        function validateForm() {
            // The form is, by default, ready to be submitted. If any of the flags are thrown, the if statement changes the boolean factor
             isValid = true;

            // Clears any leftover errors
            clearErrors();

            // Get form field values
            username = document.getElementById("username");
            email = document.getElementById("email");
            password = document.getElementById("password");
            confirmPassword = document.getElementById("confirm_password");

            // Check if username is empty
            if (username.value.trim() === "") {
                // showError first has to have an error name, then the message that is displayed
                showError("username-error", "Username is required");
                isValid = false;
            }

            // Check if email is empty
            if (email.value.trim() === "") {
                showError("email-error", "Email is required");
                isValid = false;
            }

            // Check if password is empty
            if (password.value.trim() === "") {
                showError("password-error", "Password is required");
                isValid = false;
            }

            // Check if confirm password is empty
            if (confirmPassword.value.trim() === "") {
                showError("confirm-password-error", "Confirm password is required");
                isValid = false;
            }

            // This checks to make sure the passwords are the same
            if (password.value.trim() !== confirmPassword.value.trim()) {
                showError("confirm-password-error", "Passwords must be the same!");
                isValid = false;
            }

            // If the form is valid, show a success alert
            if (isValid) {
                alert("Registration successful! Welcome, " + username.value + "!"); // Use alert for popup
            }

            return isValid; // Return the validation result
        }

        // This selects the error (in this case, the error is blank, and displays it)
        function showError(errorId, message) {
            errorElement = document.getElementById(errorId);
            // How the bubble is displayed and the message inside
            errorElement.textContent = message;
            errorElement.style.display = "block";
        }

        // This is to clear any errors in case the user fills the field in
        function clearErrors() {
            // This selects all the error messages, a more powerful for loop
            errorMessages = document.querySelectorAll('.error-message');
            // This goes through every loop and sets it equal to nothing, to clear out the error message
            errorMessages.forEach(function (message) {
                message.style.display = "none";
            });
        }
    </script>

</head>
<body>

<header style="display: flex; justify-content: space-between;">
    <!-- the source comes from the local file, that way it doesn't have to be downloaded on the users PC-->
    <img src="../images/Logo.jpg" width="150" height="100" alt="Logo">
    <h1 style="text-align: right;">
        Ferrell and Sons: Wagons and Wheels
    </h1>
</header>

<section style="position: absolute; top:30px; left: 350px">
    <h1>User Sign Up</h1>
    <!-- Every time the submit button is clicked, the "validateForm" function is called-->
    <form onsubmit="return validateForm();">
        <div class="mb-3 form-field">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" name="username" placeholder="Enter username">
            <!-- The error message is called and displayed in case it is needed-->
            <div id="username-error" class="error-message"></div>
        </div>

        <div class="mb-3 form-field">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="Enter email">
            <div id="email-error" class="error-message"></div>
        </div>

        <div class="mb-3 form-field">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password">
            <div id="password-error" class="error-message"></div>
        </div>

        <div class="mb-3 form-field">
            <label for="confirm_password" class="form-label">Confirm Password</label>
            <input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Confirm your password">
            <div id="confirm-password-error" class="error-message"></div>
        </div>

        <button type="submit" class="btn btn-primary">Sign Up</button>
    </form>
</section>

<section style="position: absolute; right:200px; top:100px">
    <button type="button" class="btn btn-primary" onclick="window.location.href='WebPageHome.html';">
        Back To Home
    </button>
</section>

<nav>
    <ul style="list-style-type: none; border: 5px solid black; padding: 10px; display: inline-block;">
        <!-- a href is what I used in past internships to go to another web page, so I am reusing it here. -->
        <!-- The words in between the quotes are the link, being where it will go after you click it.-->
        <li style="padding:10px"><a href="Home - Fill In Later">Home</a></li>
        <li style="padding:10px"><a href="About Us - Fill In Later">About Us</a></li>
        <li style="padding:10px"><a href="Shopping Cart - Fill In Later">Shopping Cart</a></li>
        <li style="padding:10px"><a href="Products - Fill In Later">Products</a></li>
        <li style="padding:10px"><a href="Login - Fill In Later">Login</a></li>
        <li style="padding:10px"><a href="Contact Us - Fill In Later">Contact Us</a></li>
    </ul>
</nav>

<footer style="position: absolute; bottom: 0; width: 100%; background-color: darkgray;">
    <ul style="list-style-type: none">
        <li style="float: left; padding:40px"><a href="Terms of Use - Fill In Later">Terms of Use</a></li>
        <li style="float: left; padding:40px"><a href="Cookie and Private Policy - Fill In Later">Cookie and Private Policy</a></li>
        <li style="float: left; padding:40px"><a href="Copyright - Fill In Later">Copyright</a></li>
    </ul>
</footer>
</body>
</html>


